# BladeCore‑M54E

BladeCore‑M54E is part of the **BladeCore** modular controller series.  
Each BladeCore variant is implemented as a standalone hardware repository, sharing a common architectural philosophy while targeting different microcontrollers and interfaces.

This repository documents the **BladeCore‑M54E** hardware, which is based on the **RP2354B** microcontroller and integrates **Ethernet connectivity**.


## BladeCore Series Overview

The BladeCore series consists of the following hardware variants:

| Module | Microcontroller | Primary Interface | Form Factor | Status |
|------|-----------------|-------------------|------------|-------------------|
| [BladeCore‑M40](#)  | RP2040  | —        | -          | Work in progress |
| [BladeCore‑M40E](#) | RP2040  | Ethernet | -          | Work in progress |
| [BladeCore‑M40C](#) | RP2040  | CAN      | -          | Work in progress |
| [BladeCore‑M54](#)  | RP2354B | —        | -          | Work in progress |
| [BladeCore‑M54E](https://github.com/DvidMakesThings/HW_BladeCore-M54E) | RP2354B | Ethernet | 2280       | Available |
| [BladeCore‑M54C](#) | RP2354B | CAN      | -          | Work in progress |

### Naming Scheme Explanation

The BladeCore naming scheme encodes the **microcontroller family** and **primary communication interface** directly in the module name:

- **M40** designates an RP2040‑based module  
- **M54** designates an RP2354B‑based module  
- **E** suffix indicates integrated Ethernet support  
- **C** suffix indicates integrated CAN support  

Variants without a suffix represent the **base module** for that microcontroller family, without Ethernet or CAN integrated.

Each BladeCore variant is implemented as a **separate hardware design and repository**.


## Description

BladeCore‑M54E is a compact controller module built around the **RP2354B** microcontroller, combined with a **W5500 Ethernet controller with integrated PHY**.  
The module is designed as a **2280‑size M.2 M‑Key card**, intended to be embedded into a carrier board or system that provides power through the M.2 edge connector.

The design integrates:

*   RP2354B microcontroller
*   External QSPI flash memory
*   External I²C EEPROM
*   100BASE Ethernet via W5500
*   Dual‑path USB connectivity with automatic source selection
*   Onboard power regulation and defined power‑up sequencing

This repository contains the schematics and documentation.

- [BladeCore‑M54 schematics (PDF)](src/PDF/BladeCore-M54_Schematics.pdf).
- [BladeCore‑M54 KiCad folder](src/HardwareDesign/1.0.0/).

### Resources

- **KiCad Libraries:** [src/HardwareDesign/Libraries/KiCad](src/HardwareDesign/Libraries/KiCad)
    - BladeCore‑M54E footprint 
    - BladeCore‑M54E symbol
    - Plain M.2 connector footprint (MDT420E03001)
    - 3D STEP: BladeCore‑M54E + MDT420E03001 assembly
    - 3D STEP: M.2 connector
- **Eagle Libraries:** [src/HardwareDesign/Libraries/Eagle](src/HardwareDesign/Libraries/Eagle)
    - Status: Work in progress



## Hardware Overview

<table>
    <tr>
        <td align="center">
            <img src="images/BladeCore-M54E_Top-removebg.png" alt="BladeCore‑M54E top view" width="250"><br><em>Top view</em>
        </td>
        <td align="center">
            <img src="images/BladeCore-M54E_Bottom-removebg.png" alt="BladeCore‑M54E bottom view" width="250"><br><em>Bottom view</em>
        </td>
    </tr>
 </table>

### Form Factor

*   **M.2 2280**
*   **M‑Key**
*   Power and I/O routed through the M.2 edge connector

***

### Microcontroller

*   **RP2354B**
*   External **12 MHz crystal**
*   Internal 1.1 V core supply generated by the MCU
*   SWD debug interface available
*   GPIOs routed to the M.2 edge connector

***

### Memory

*   **Integrated Flash**
    *   RP2354B
    *   Capacity: **2 MB**
*   **External QSPI Flash**
    *   W25Q128JVPIQ
    *   Capacity: **8 MB**
*   **External I²C EEPROM**
    *   AT24C256
    *   Capacity: **256 kbit**

***

### Ethernet

*   **W5500 Ethernet Controller with integrated PHY**
*   Interface to MCU via **SPI**
*   Supports **100BASE‑TX**
*   Dedicated reset and interrupt signals
*   Link and activity LEDs implemented

***

### USB

BladeCore‑M54E supports **two physical USB connection paths**:

1.  **USB routed through the M.2 edge connector** (external host or carrier board USB), and
2.  **Onboard USB‑C connector**.

A **FSUSB42 USB 2.0 high‑speed multiplexer** is used to select which USB path is connected to the RP2354B.

**USB path selection behavior:**

*   By default, the USB data lines are routed to the **M.2 edge connector**.
*   When the **onboard USB‑C connector is plugged in**, the FSUSB42 automatically **redirects the USB data path** from the edge connector to the onboard USB‑C connector.
*   Removing the onboard USB connection restores the default routing to the M.2 edge connector.

This allows the module to be normally operated via a carrier board USB connection, while still enabling direct access through the onboard USB‑C connector when needed, without manual configuration.

***

### Power

*   Input supply: **VBUS / 5 V / 3.3 V** (5V and 3.3V is selectable by onboard solder jumper)
*   **TPS74801** low‑dropout regulator generating 3.3 V in case of 5V power is selected
*   Power‑good signaling with visal feedback (LED)
*   USB VBUS sensing routed to ADC
*   Optional USB‑powered operation depending on component population (as noted in schematics)


## Revision History

| Revision | Date       | Notes            |
| -------- | ---------- | ---------------- |
| 1.0.0    | 2026‑01‑31 | Initial creation |



## Notes

*   This documentation intentionally avoids assumptions about firmware features, supported protocols, or software behavior.
*   All statements are derived from the provided schematics and explicit design notes.
*   Component‑level limits and behavior should be verified against the respective datasheets.


## License
### Hardware Components
Hardware designs, schematics, and related documentation are licensed under the **Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (CC BY-NC-SA 4.0)**. See the [Hardware License](LICENSE-CC-BY-NC-SA) file for details.

#### What CC BY-NC-SA 4.0 means:

- ✅ **You can** study, modify, and distribute the hardware designs
- ✅ **You can** create derivative works for personal, educational, or non-commercial use
- ✅ **You can** build this project for your own personal use

- ⚠️ **You must** give appropriate credit and indicate if changes were made
- ⚠️ **You must** share any modifications under the same license terms
- ⚠️ **You must** include the original license and copyright notices

- ❌ **You cannot** use the designs for commercial purposes without explicit permission
- ❌ **You cannot** manufacture and sell products based on these designs without a commercial license
- ❌ **You cannot** create closed-source derivatives for commercial purposes
- ❌ **You cannot** use the designer's trademarks without permission

### Commercial & Enterprise Use

Commercial use of this project is prohibited without obtaining a separate commercial license. If you are interested in:

- Manufacturing and selling products based on these designs
- Incorporating these designs into commercial products
- Any other commercial applications

Please contact me through any of the channels listed in the [Contact](#contact) section to discuss commercial licensing arrangements. Commercial licenses are available with reasonable terms to support ongoing development.

## Contact

For questions or feedback:
- **Email:** [dvidmakesthings@gmail.com](mailto:dvidmakesthings@gmail.com)
- **GitHub:** [DvidMakesThings](https://github.com/DvidMakesThings)

## Contributing

Contributions are welcome! As this is an early-stage project, please reach out before 
making substantial changes:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/concept`)
3. Commit your changes (`git commit -m 'Add concept'`)
4. Push to the branch (`git push origin feature/concept`)
5. Open a Pull Request with a detailed description